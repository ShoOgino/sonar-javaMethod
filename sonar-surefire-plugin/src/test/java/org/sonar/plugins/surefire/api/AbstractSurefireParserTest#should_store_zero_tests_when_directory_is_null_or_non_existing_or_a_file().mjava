  @Test
  public void should_store_zero_tests_when_directory_is_null_or_non_existing_or_a_file() throws Exception {
    AbstractSurefireParser parser = newParser();
    Project project = mock(Project.class);

    SensorContext context = mockContext();
    parser.collect(project, context, null);
    verify(context).saveMeasure(CoreMetrics.TESTS, 0.0);

    context = mockContext();
    parser.collect(project, context, getDir("nonExistingReportsDirectory"));
    verify(context).saveMeasure(CoreMetrics.TESTS, 0.0);

    context = mockContext();
    parser.collect(project, context, getDir("file.txt"));
    verify(context).saveMeasure(CoreMetrics.TESTS, 0.0);
  }

