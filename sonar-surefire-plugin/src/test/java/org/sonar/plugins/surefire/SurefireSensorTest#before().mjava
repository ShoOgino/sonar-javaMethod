  @Before
  public void before() {
    project = mock(Project.class);
    fileSystem = mock(ProjectFileSystem.class);
    when(fileSystem.mainFiles("java")).thenReturn(Collections.singletonList(mock(InputFile.class)));
    when(project.getFileSystem()).thenReturn(fileSystem);

    perspectives = mock(ResourcePerspectives.class);

    javaResourceLocator = mock(JavaResourceLocator.class);
    when(javaResourceLocator.findResourceByClassName(anyString())).thenAnswer(new Answer<Resource>() {
      @Override
      public Resource answer(InvocationOnMock invocation) throws Throwable {
        return new JavaFile((String) invocation.getArguments()[0], true);
      }
    });

    surefireSensor = new SurefireSensor(new SurefireJavaParser(perspectives, javaResourceLocator), mock(Settings.class));
  }

