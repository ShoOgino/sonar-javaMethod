  @Test
  void test_failure_invalid_classpath() throws Exception {
    SensorContextTester ctx = jspContext("<html>\n" +
      "<body>\n" +
      "<h2>Hello World!</h2>\n" +
      "</body>\n" +
      "</html>");
    Jasper jasper = spy(new Jasper());
    doThrow(new IllegalStateException()).when(jasper).initClassLoader(emptyList());
    Collection<GeneratedFile> generatedFiles = jasper.generateFiles(ctx, emptyList());
    assertThat(generatedFiles).isEmpty();
    assertThat(logTester.logs(LoggerLevel.WARN)).contains("Failed to transpile JSP files.");
  }

