  @Test
  public void tests_without_main_code() {
    MavenBuild build = MavenBuild.create()
      .setPom(TestUtils.projectPom("tests-without-main-code"))
      .setGoals("clean test-compile surefire:test", "sonar:sonar");
    orchestrator.executeBuild(build);

    Resource project = orchestrator.getServer().getWsClient().find(ResourceQuery.createForMetrics("com.sonarsource.it.samples:tests-without-main-code",
      "tests", "test_errors", "test_failures", "skipped_tests", "test_execution_time", "test_success_density"));

    assertThat(project.getMeasure("tests").getIntValue()).isEqualTo(1);
    assertThat(project.getMeasure("test_errors").getIntValue()).isEqualTo(0);
    assertThat(project.getMeasure("test_failures").getIntValue()).isEqualTo(0);
    assertThat(project.getMeasure("skipped_tests").getIntValue()).isEqualTo(1);
    assertThat(project.getMeasure("test_execution_time").getIntValue()).isGreaterThan(0);
    assertThat(project.getMeasure("test_success_density").getValue()).isEqualTo(100.0);
  }

