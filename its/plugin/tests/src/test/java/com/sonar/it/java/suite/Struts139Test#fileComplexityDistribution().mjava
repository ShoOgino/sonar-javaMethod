  /**
   * SONAR-3289
   */
  @Test
  public void fileComplexityDistribution() {
    setCurrentProjectWithAccessors();
    assertThat(orchestrator.getServer().getWsClient().find(
      ResourceQuery.createForMetrics(JavaTestSuite.keyFor(MODULE_CORE, "org/apache/struts/config", ""), "file_complexity_distribution"))
      .getMeasure("file_complexity_distribution").getData()).isEqualTo("0=2;5=2;10=2;20=0;30=4;60=4;90=1");
    assertThat(getCoreModuleMeasure("file_complexity_distribution").getData()).isEqualTo("0=43;5=23;10=21;20=11;30=17;60=9;90=10");
    assertThat(getProjectMeasure("file_complexity_distribution").getData()).isEqualTo("0=133;5=43;10=45;20=34;30=35;60=16;90=14");
  }

