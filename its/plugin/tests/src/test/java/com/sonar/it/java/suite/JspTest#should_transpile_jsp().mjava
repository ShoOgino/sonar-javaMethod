  @Test
  public void should_transpile_jsp() throws Exception {
    MavenBuild build = MavenBuild.create(TestUtils.projectPom(PROJECT))
      .setCleanPackageSonarGoals()
      .setDebugLogs(true)
      .setProperty("sonar.scm.disabled", "true");
    TestUtils.provisionProject(ORCHESTRATOR, "org.sonarsource.it.projects:" + PROJECT, PROJECT, "java", "jsp");
    ORCHESTRATOR.executeBuild(build);

    Path visitTest = TestUtils.projectDir(PROJECT).toPath().resolve("target/sonar/visit.txt");
    List<String> lines = Files.readAllLines(visitTest);
    assertThat(lines).containsExactlyInAnyOrder("GreetingServlet", "greeting_jsp", "index_jsp");

    Path sourceMapTest = TestUtils.projectDir(PROJECT).toPath().resolve("target/sonar/GeneratedCodeCheck.txt");
    assertThat(sourceMapTest).hasContent("index.jsp 1:6");
  }

