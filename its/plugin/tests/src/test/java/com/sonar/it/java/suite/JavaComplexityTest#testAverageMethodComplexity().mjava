  @Test
  public void testAverageMethodComplexity() {
    // complexity 6 / 4 methods
    assertThat(getMeasure(JavaTestSuite.keyFor(PROJECT, "complexity/", "Helloworld.java"), "function_complexity").getValue()).isEqualTo(1.5);

    // complexity 5 / 4 methods. Real value is 1.25 but round up to 1.3
    assertThat(getMeasure(JavaTestSuite.keyFor(PROJECT, "complexity/", "ContainsInnerClasses.java"), "function_complexity").getValue()).isEqualTo(1.3);

    // (1 + 3) / 2 = 2
    assertThat(getMeasure(JavaTestSuite.keyFor(PROJECT, "complexity/", "AnonymousClass.java"), "function_complexity").getValue()).isEqualTo(2.0);

    // Helloworld: 6/4
    // ContainsInnerClasses: 5/4
    // AnonymousClass: 4/2
    // => 19/12 Real value is 1.5833 but lowered to 1.5
    assertThat(getMeasure(JavaTestSuite.keyFor(PROJECT, "complexity", ""), "function_complexity").getValue()).isEqualTo(1.5);
    assertThat(getMeasure(PROJECT, "function_complexity").getValue()).isEqualTo(1.5);
  }

