  @VisibleForTesting
  static void setJavaVersion(PMD pmd, String javaVersion) {
    String version = normalize(javaVersion);
    SourceType sourceType = SourceType.getSourceTypeForId("java " + version);
    if (sourceType == null) {
      throw new SonarException("Unsupported Java version for PMD: " + version);
    }

    LOG.info("Java version: " + version);
    pmd.setJavaVersion(sourceType);
  }

