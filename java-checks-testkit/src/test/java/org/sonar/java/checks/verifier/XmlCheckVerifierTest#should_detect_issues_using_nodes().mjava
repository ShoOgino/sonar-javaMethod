  @Test
  public void should_detect_issues_using_nodes() {
    XmlCheckVerifier.verify(XML_WITH_ISSUES, new TestXmlCheck() {
      @Override
      public void scanFile(XmlCheckContext context) {
        try {
          context.reportIssue(this, firstNode(context, "//test2"), "Message1");
          context.reportIssue(this, firstNode(context, "//test4"), "Message2");
        } catch (Exception e) {
          Fail.fail();
        }
      }
    });
  }

