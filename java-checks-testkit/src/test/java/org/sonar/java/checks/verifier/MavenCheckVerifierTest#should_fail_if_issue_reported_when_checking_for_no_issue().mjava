  @Test
  public void should_fail_if_issue_reported_when_checking_for_no_issue() {
    try {
      MavenCheckVerifier.verifyNoIssue(POM_WITH_NO_ISSUE, new MavenFileScanner() {
        @Override
        public void scanFile(MavenFileScannerContext context) {
          context.reportIssue(this, 2, "Message");
        }
      });
    } catch (AssertionError e) {
      assertThat(e.getMessage()).startsWith("No issues expected");
    }
  }

