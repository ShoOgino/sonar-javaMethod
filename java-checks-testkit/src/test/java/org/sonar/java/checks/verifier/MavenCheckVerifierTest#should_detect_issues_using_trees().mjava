  @Test
  public void should_detect_issues_using_trees() {
    MavenCheckVerifier.verify(POM_WITH_ISSUES, new MavenFileScanner() {
      @Override
      public void scanFile(MavenFileScannerContext context) {
        MavenProject mavenProject = context.getMavenProject();
        context.reportIssue(this, mavenProject.getVersion(), "Message1");
        context.reportIssue(this, mavenProject.getDependencies().getDependencies().get(0).getArtifactId(), "Message2");
        context.reportIssue(this, mavenProject.getDependencies().getDependencies().get(2), "Message3");
      }
    });
  }

