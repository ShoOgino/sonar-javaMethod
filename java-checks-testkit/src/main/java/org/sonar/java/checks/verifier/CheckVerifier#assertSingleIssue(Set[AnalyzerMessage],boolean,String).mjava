  private static void assertSingleIssue(Set<AnalyzerMessage> issues, boolean issueOnFile, String expectedMessage) {
    if (issues.size() != 1) {
      Fail.fail("A single issue is expected on the file");
    }
    AnalyzerMessage issue = Iterables.getFirst(issues, null);
    assertThat(issue.getInputComponent().isFile()).isEqualTo(issueOnFile);
    assertThat(issue.getLine()).isNull();
    assertThat(issue.getMessage()).isEqualTo(expectedMessage);
  }

