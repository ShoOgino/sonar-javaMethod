  @Test
  public void threshold_at_two() {
    StringLiteralDuplicatedCheck visitor = new StringLiteralDuplicatedCheck();
    visitor.threshold = 2;
    SourceFile file = JavaAstScanner.scanSingleFile(new File("src/test/files/checks/StringLiteralDuplicatedCheck.java"), new VisitorsBridge(visitor));
    checkMessagesVerifier.verify(file.getCheckMessages())
        .next().atLine(8).withMessage("Define a constant instead of duplicating this literal \"bbbbb\" 2 times.")
        .next().atLine(10).withMessage("Define a constant instead of duplicating this literal \"ccccc\" 3 times.");
  }

