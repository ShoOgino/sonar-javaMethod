  @Test
  public void getNextCommonPatternMatcherTokenToMatch() {
    Token token1 = mockToken("token1");
    Token token2 = mockToken("token2");

    CommonPatternMatcher nextCommonPatternMatcher = mock(CommonPatternMatcher.class);
    when(nextCommonPatternMatcher.getTokensToMatch()).thenReturn(Lists.newArrayList(token1, token2));

    assertThat(new VaryingPatternMatcher(nextCommonPatternMatcher, mock(PrefixParser.class), mock(Rule.class)).getNextCommonPatternMatcherTokenToMatch()).isEqualTo(token1);
  }

