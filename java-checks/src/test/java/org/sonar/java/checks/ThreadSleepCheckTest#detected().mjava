  @Test
  public void detected() {
    SourceFile file = JavaAstScanner.scanSingleFile(new File("src/test/files/checks/ThreadSleepCheck.java"), new VisitorsBridge(new ThreadSleepCheck()));
    checkMessagesVerifier.verify(file.getCheckMessages())
        .next().atLine(8).withMessage("Replace the call to \"Thread.sleep(...)\" with a call to \"wait(...)\".")
        .next().atLine(9).withMessage("Replace the call to \"Thread.sleep(...)\" with a call to \"wait(...)\".")
        .next().atLine(16).withMessage("Replace the call to \"Thread.sleep(...)\" with a call to \"wait(...)\".")
        .next().atLine(17).withMessage("Replace the call to \"Thread.sleep(...)\" with a call to \"wait(...)\".")
        .noMore();
  }

