  @Test
  public void test() {
    SourceFile file = JavaAstScanner.scanSingleFile(new File("src/test/files/checks/DefaultEncodingUsageCheck.java"),
      new VisitorsBridge(new DefaultEncodingUsageCheck()));
    CheckMessagesVerifier verifier = checkMessagesVerifier.verify(file.getCheckMessages())
      .next().atLine(15).withMessage("Remove this use of constructor \"String(byte[])\"")
      .next().atLine(16).withMessage("Remove this use of constructor \"String(byte[],int,int)\"")
      .next().atLine(17).withMessage("Remove this use of \"getBytes\"")
      .next().atLine(18).withMessage("Remove this use of \"getBytes\"");
    for (int i = 19; i <= 47; i++) {
        verifier.next().atLine(i);
      }
  }

