  @Test
  public void should_fail_when_no_rule_matched_a_given_input() {
    thrown.expect(IllegalStateException.class);

    Parser<MyGrammar> p = getParser();
    PrefixParser prefixParser = new PrefixParser(p);

    assertThat(new Classifier(prefixParser, Collections.EMPTY_SET).getMatchingRules(getInputsTokens(Lists.newArrayList("foo")))).containsOnly();
  }

