  @Test
  public void should_fail_with_empty_rules() {
    thrown.expect(IllegalArgumentException.class);
    thrown.expectMessage("rules must contain at least one element");

    new VaryingPatternMatcher(mock(PrefixParser.class), Collections.EMPTY_SET, mock(CommonPatternMatcher.class));
  }

