    @Override
    public State merge(State s) {
      if (s.equals(State.UNSET)) {
        return this;
      }
      if(!(s instanceof LockState)) {
        throw new IllegalStateException("Merging incompatible states");
      }
      return s;
    }

