  private static Type getRootElementType(Type type) {
    return type.isArray() ? getRootElementType(((ArrayType) type).elementType()) : type;
  }

