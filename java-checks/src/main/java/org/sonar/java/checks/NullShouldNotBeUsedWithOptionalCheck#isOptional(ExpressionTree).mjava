  private static boolean isOptional(ExpressionTree expression) {
    return expression.symbolType().is(OPTIONAL) && !isNull(expression);
  }

