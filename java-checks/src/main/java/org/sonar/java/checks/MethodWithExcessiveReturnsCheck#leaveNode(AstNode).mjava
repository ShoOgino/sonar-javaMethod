  @Override
  public void leaveNode(AstNode node) {
    if (node.is(JavaGrammar.CLASS_BODY_DECLARATION)) {
      if (isMethod(node) && getReturnStatementCounter() > max) {
        getContext().createLineViolation(
            this,
            "Reduce the number of returns of this method " + getReturnStatementCounter() + ", down to the maximum allowed " + max + ".",
            node);
      }

      returnStatementCounter.pop();
    }
  }

