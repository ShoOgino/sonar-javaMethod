  public boolean allSuccessorMatch(Predicate<SubAutomaton> predicate, boolean followMatchedCharacter) {
    for (AutomatonState successor : start.successors()) {
      if (!predicate.test(new SubAutomaton(successor, end, allowPrefix, this.followMatchedCharacters || followMatchedCharacter))) {
        return false;
      }
    }
    return true;
  }

