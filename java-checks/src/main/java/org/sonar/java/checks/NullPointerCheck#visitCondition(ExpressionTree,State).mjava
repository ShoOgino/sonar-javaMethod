  private ConditionalState visitCondition(ExpressionTree tree, State newState) {
    State oldState = currentState;
    currentState = newState;
    ConditionalState result = visitCondition(tree);
    currentState = oldState;
    return result;
  }

