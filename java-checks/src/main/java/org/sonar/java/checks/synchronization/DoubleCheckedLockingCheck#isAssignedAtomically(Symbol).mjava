  private static boolean isAssignedAtomically(Symbol field) {
    Type fieldType = field.type();
    if (fieldType.isUnknown() || fieldType.symbol().isInterface() || fieldType.symbol().isAbstract()) {
      return false;
    }
    if (fieldType.isPrimitive()) {
      return true;
    }
    Collection<Symbol> members = fieldType.symbol().memberSymbols();
    return members.stream()
      .noneMatch(m -> m.isVariableSymbol() && m.type().isPrimitive() && !m.isFinal());
  }

