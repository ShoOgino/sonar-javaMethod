  private static boolean isSerializableParametrized(ParametrizedTypeJavaType type) {
    // note: this is assuming that custom implementors of Collection
    // have the good sense to make it serializable just like all implementations in the JDK
    //
    // note: type.substitution(t) should never be null
    return (type.isSubtypeOf("java.io.Serializable") || type.isSubtypeOf("java.util.Collection"))
      && type.typeParameters().stream().allMatch(t -> isSerializable(type.substitution(t)));
  }

