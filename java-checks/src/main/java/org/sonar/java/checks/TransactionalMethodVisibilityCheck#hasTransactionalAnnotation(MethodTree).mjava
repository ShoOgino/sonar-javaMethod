  private boolean hasTransactionalAnnotation(MethodTree method) {
    for (AnnotationTree annotation : method.modifiers().annotations()) {
      Type annotationType = ((AbstractTypedTree) annotation).getSymbolType();
      if (annotationType.is("org.springframework.transaction.annotation.Transactional")) {
        return true;
      }
    }
    return false;
  }

