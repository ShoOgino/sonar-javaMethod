  private static Optional<KnownGroupsCollector> collectGroups(RegexParseResult regex) {
    KnownGroupsCollector visitor = new KnownGroupsCollector();
    visitor.visit(regex);
    return visitor.groupsByName.isEmpty() ? Optional.empty() : Optional.of(visitor);
  }

