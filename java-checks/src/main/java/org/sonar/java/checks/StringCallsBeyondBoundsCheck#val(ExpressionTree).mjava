  private static Optional<Integer> val(ExpressionTree tree) {
    Optional<Integer> constant = cst(tree);
    if (constant.isPresent()) {
      return constant;
    } else {
      return len(tree);
    }
  }

