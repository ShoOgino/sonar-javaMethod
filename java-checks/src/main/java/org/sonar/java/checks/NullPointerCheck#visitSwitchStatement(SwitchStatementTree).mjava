  @Override
  public void visitSwitchStatement(SwitchStatementTree tree) {
    checkForIssue(tree.expression(), MESSAGE_NULLABLE_EXPRESSION, MESSAGE_NULL_LITERAL);
    scan(tree.expression());
    Set<VariableSymbol> variables = new AssignmentVisitor().findAssignedVariables(tree.cases());
    currentState.invalidateVariables(variables);
    for (CaseGroupTree caseTree : tree.cases()) {
      currentState = new State(currentState);
      scan(caseTree);
      restorePreviousState();
    }
  }

