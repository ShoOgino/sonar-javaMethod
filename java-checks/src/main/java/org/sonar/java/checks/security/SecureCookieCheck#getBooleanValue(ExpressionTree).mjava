  @Nullable
  private static Boolean getBooleanValue(ExpressionTree expression) {
    Boolean value = ConstantUtils.resolveAsBooleanConstant(expression);
    if (value == null && expression.is(Tree.Kind.IDENTIFIER)) {
      ExpressionTree last = ReassignmentFinder.getClosestReassignmentOrDeclarationExpression(expression, ((IdentifierTree) expression).symbol());
      value = last == null ? null : getBooleanValue(last);
    }
    return value;
  }

