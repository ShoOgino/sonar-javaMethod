  @CheckForNull
  private static JavaType getCollectionItemType(ExpressionTree expression) {
    if (((JavaType) expression.symbolType()).isParameterized()) {
      ParametrizedTypeJavaType paramType = (ParametrizedTypeJavaType) expression.symbolType();
      return paramType.substitution(paramType.typeParameters().get(0));
    } else {
      return null;
    }
  }

