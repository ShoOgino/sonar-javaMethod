    void collectTypesFromTypeTree(TypeTree typeTree, List<Type> types) {
      if (typeTree.is(Tree.Kind.UNION_TYPE)) {
        ((UnionTypeTree) typeTree).typeAlternatives().forEach(t -> collectTypesFromTypeTree(t, types));
      } else {
        Type type = typeTree.symbolType();
        typeToTypeTree.put(type, typeTree);
        types.add(type);
      }
    }

