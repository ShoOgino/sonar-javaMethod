  @Override
  public void visitToken(Token token) {
    switch (state) {
      case EXPECT_FINALIZE:
        transitionIfMatch(token, "finalize", State.EXPECT_LPAREN);
        break;
      case EXPECT_LPAREN:
        transitionIfMatch(token, "(", State.EXPECT_RPAREN);
        break;
      case EXPECT_RPAREN:
        transitionIfMatch(token, ")", State.EXPECT_SEMI);
        break;
      case EXPECT_SEMI:
        if (";".equals(token.getOriginalValue()) && !isInFinalizeMethod) {
          getContext().createLineViolation(this, "Remove this call to finalize().", token);
        }
        state = State.EXPECT_FINALIZE;
        break;
      default:
        throw new IllegalStateException();
    }
  }

