  @Override
  public void leaveNode(Tree tree) {
    if (tree.is(Tree.Kind.RETURN_STATEMENT)) {
      collectReturnedVariables(((ReturnStatementTree) tree).expression());
    } else if (tree.is(Tree.Kind.COMPILATION_UNIT)) {
      checkNotUsingAnyNamedGroup();

      // clear all the structures used during analysis to start fresh in next file
      knownPatternsWithGroups.clear();
      matcherToPattern.clear();
      usedGroupsRegexes.clear();
      returnedVariables.clear();
    }
  }

