    // returns the value of the variable in the current state.
    public AbstractValue getVariableValue(VariableSymbol variable) {
      for (State state = this; state != null; state = state.parentState) {
        AbstractValue result = state.variables.get(variable);
        if (result != null) {
          return result;
        }
      }
      return AbstractValue.UNKNOWN;
    }

