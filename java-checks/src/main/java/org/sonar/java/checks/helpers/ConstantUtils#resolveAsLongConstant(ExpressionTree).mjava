  @CheckForNull
  public static Long resolveAsLongConstant(ExpressionTree tree) {
    Object constant = resolveAsConstant(tree);
    if (constant instanceof Long) {
      return (Long) constant;
    }
    if (constant instanceof Integer) {
      return ((Integer) constant).longValue();
    }
    return null;
  }

