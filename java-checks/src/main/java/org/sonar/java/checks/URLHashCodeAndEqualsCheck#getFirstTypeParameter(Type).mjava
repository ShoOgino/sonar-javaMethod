  @CheckForNull
  private static Type getFirstTypeParameter(Type type) {
    if (type instanceof ParametrizedTypeJavaType) {
      ParametrizedTypeJavaType parametrizedTypeType = (ParametrizedTypeJavaType) type;
      return parametrizedTypeType.typeParameters().stream()
        .findFirst()
        .map(parametrizedTypeType::substitution)
        .orElse(null);
    }
    return null;
  }

