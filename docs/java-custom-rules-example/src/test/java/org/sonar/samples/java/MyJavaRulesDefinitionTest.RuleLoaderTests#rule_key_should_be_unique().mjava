    @Test
    void rule_key_should_be_unique() {
      assertThatThrownBy(() -> MyJavaRulesDefinition.newRule(RuleWithKey.class, repository))
        .isInstanceOf(IllegalArgumentException.class)
        .hasMessageStartingWith("No rule was created for class org.sonar.samples.java.MyJavaRulesDefinitionTest")
        .hasMessageEndingWith("RuleWithKey in repo");
    }

