  @Test
  public void shouldGetReportsFromProperty() {
    Settings settings = mock(Settings.class);
    when(settings.getString("sonar.junit.reportsPath")).thenReturn("target/surefire");
    Project project = MavenTestUtils.loadProjectFromPom(getClass(), "shouldGetReportsFromProperty/pom.xml");
    DefaultFileSystem fs = new DefaultFileSystem(project.getFileSystem().getBasedir());
    PathResolver pathResolver = new PathResolver();
    assertThat(SurefireUtils.getReportsDirectory(settings, fs, pathResolver).exists()).isTrue();
    assertThat(SurefireUtils.getReportsDirectory(settings, fs, pathResolver).isDirectory()).isTrue();
  }

