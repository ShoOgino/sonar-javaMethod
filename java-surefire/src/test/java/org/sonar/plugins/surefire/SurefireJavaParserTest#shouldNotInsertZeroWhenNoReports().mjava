  /**
   * See http://jira.codehaus.org/browse/SONAR-2371
   */
  @Test
  public void shouldNotInsertZeroWhenNoReports() throws URISyntaxException {
    SensorContext context = mockContext();
    Project project = mock(Project.class);
    when(project.getModules()).thenReturn(Arrays.asList(new Project("foo")));

    parser.collect(context, getDir("noReports"), true);

    verify(context, never()).saveMeasure(CoreMetrics.TESTS, 0.0);
  }

