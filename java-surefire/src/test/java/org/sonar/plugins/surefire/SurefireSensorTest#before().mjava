  @Before
  public void before() {
    project = mock(Project.class);
    fs = new DefaultFileSystem();
    DefaultInputFile javaFile = new DefaultInputFile("src/org/foo/java");
    javaFile.setLanguage("java");
    fs.add(javaFile);
    perspectives = mock(ResourcePerspectives.class);

    javaResourceLocator = mock(JavaResourceLocator.class);
    when(javaResourceLocator.findResourceByClassName(anyString())).thenAnswer(new Answer<Resource>() {
      @Override
      public Resource answer(InvocationOnMock invocation) throws Throwable {
        return new JavaFile((String) invocation.getArguments()[0], true);
      }
    });

    surefireSensor = new SurefireSensor(new SurefireJavaParser(perspectives, javaResourceLocator), mock(Settings.class), fs);
  }

