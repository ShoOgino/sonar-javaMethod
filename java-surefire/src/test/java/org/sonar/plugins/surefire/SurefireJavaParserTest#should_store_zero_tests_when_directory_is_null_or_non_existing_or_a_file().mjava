  @Test
  public void should_store_zero_tests_when_directory_is_null_or_non_existing_or_a_file() throws Exception {

    SensorContext context = mockContext();
    parser.collect(context, null, false);
    verify(context, never()).saveMeasure(eq(CoreMetrics.TESTS), anyDouble());

    context = mockContext();
    parser.collect(context, getDir("nonExistingReportsDirectory"), false);
    verify(context, never()).saveMeasure(eq(CoreMetrics.TESTS), anyDouble());

    context = mockContext();
    parser.collect(context, getDir("file.txt"), true);
    verify(context, never()).saveMeasure(eq(CoreMetrics.TESTS), anyDouble());
  }

