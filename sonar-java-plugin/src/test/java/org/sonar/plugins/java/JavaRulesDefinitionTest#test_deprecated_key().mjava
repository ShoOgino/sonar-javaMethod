  @Test
  public void test_deprecated_key() {
    JavaRulesDefinition definition = new JavaRulesDefinition(settings);
    RulesDefinition.Context context = new RulesDefinition.Context();
    definition.define(context);
    RulesDefinition.Repository repository = context.repository(REPOSITORY_KEY);

    RulesDefinition.Rule rule = repository.rule("S1104");
    assertThat(rule.activatedByDefault()).isEqualTo(true);
    assertThat(rule.deprecatedRuleKeys()).hasSize(1);
    RuleKey deprecatedKey = rule.deprecatedRuleKeys().iterator().next();
    assertThat(deprecatedKey.repository()).isEqualTo("java");
    assertThat(deprecatedKey.rule()).isEqualTo("ClassVariableVisibilityCheck");
  }

