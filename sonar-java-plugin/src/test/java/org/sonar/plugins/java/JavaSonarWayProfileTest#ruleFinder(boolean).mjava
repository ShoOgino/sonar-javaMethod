  static RuleFinder ruleFinder(boolean forSonarLint) {
    return when(mock(RuleFinder.class).findByKey(anyString(), anyString())).thenAnswer(new Answer<Rule>() {
      @Override
      public Rule answer(InvocationOnMock invocation) {
        Object[] arguments = invocation.getArguments();
        if(!forSonarLint || CheckList.REPOSITORY_KEY.equals(arguments[0])) {
          Rule rule = Rule.create((String) arguments[0], (String) arguments[1], (String) arguments[1]);
          return rule.setSeverity(RulePriority.MINOR);
        }
        return null;
      }
    }).getMock();
  }

