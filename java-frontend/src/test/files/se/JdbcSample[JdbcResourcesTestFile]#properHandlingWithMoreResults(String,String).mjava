  public void properHandlingWithMoreResults(String url, String query) {
    try (Connection connection = DriverManager.getConnection(url);) {
      try (Statement statement = connection.createStatement();) {
        boolean hasResultSets = statement.execute(query);
        while (hasResultSets) {
          ResultSet result = statement.getResultSet(); // Noncompliant {{Use try-with-resources to close this "ResultSet".}}
          String name = result.getString(0);
          hasResultSets = statement.getMoreResults();
        }
      }
    }
  }

