  private List<Qualifier> buggy(String query) {
    return Arrays
      .stream(new String[] {"foo", "bar"})
      .flatMap(qualifier -> Qualifier.getResult(qualifier).map(Stream::of).orElseGet(Stream::empty))
      .collect(Collectors.toList());
  }

