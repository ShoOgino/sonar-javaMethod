  private void setupLayout() {
    codeArea.setStyle("-fx-min-height: 400px;");
    codeArea.getStylesheets().add(Viewer.class.getResource("/viewer/java-keywords.css").toExternalForm());
    codeArea.setParagraphGraphicFactory(LineNumberFactory.get(codeArea));
    codeArea.richChanges()
      .filter(ch -> !ch.getInserted().equals(ch.getRemoved()))
      .subscribe(change -> {
        codeArea.setStyleSpans(0, computeHighlighting(codeArea.getText()));
      });

    textArea.setStyle("-fx-min-height: 390px; -fx-font-family: monospace;");

    verticalLayout.getChildren().addAll(codeArea, textArea);
  }

