  private static String egToDot(ExplodedGraph eg) {
    String result = "graph ExplodedGraph { ";
    List<ExplodedGraph.Node> nodes = new ArrayList<>(eg.getNodes().keySet());
    int index = 0;
    for (ExplodedGraph.Node node : nodes) {
      result += index + "[label = \"" + node.programPoint + "\"] ";
      if(node.parent != null) {
        result += nodes.indexOf(node.parent) + "->"+index+"[label=\""+node.getLearnedSymbols().stream().map(ExplodedGraph.Node.LearnedValue::toString).collect(Collectors.joining(","))
          + " " +node.getLearnedConstraints().stream().map(ExplodedGraph.Node.LearnedConstraint::toString).collect(Collectors.joining(","))+"\"] ";
      }
      if (SHOW_CACHE) {
        for (ExplodedGraph.Node cacheHit : node.cacheHits) {
          result += nodes.indexOf(cacheHit) + "->" + index + "[label=\"CACHE\", color=\"red\", fontcolor=\"red\"] ";
        }
      }
      index++;
    }
    return result + "}";

  }

