  @Test
  public void build_concatenate_heterogenous_elements() {
    Expression.Variable arg = variableWithId("arg");
    Expression.Variable aux0 = variableWithId("%0");
    Expression.Variable aux1 = variableWithId("%1");
    UCFG expectedUCFG = UCFGBuilder.createUCFGForMethod("A#method(Ljava/lang/String;)Ljava/lang/String;").addMethodParam(arg)
        .addBasicBlock(newBasicBlock("1")
            .assignTo(aux0, call("__concat").withArgs(constant("\"\""), arg), new LocationInFile(FILE_KEY, 1,43,1,53))
            .assignTo(aux1, call("__concat").withArgs(aux0, constant("\"\"")), new LocationInFile(FILE_KEY, 1,43,1,58))
            .ret(aux1,new LocationInFile(FILE_KEY, 1,36,1,59)))
        .build();
    assertCodeToUCfg("class A {String method(String arg) {return true + arg + 42;}}", expectedUCFG);

    expectedUCFG = UCFGBuilder.createUCFGForMethod("A#method(Ljava/lang/String;)Ljava/lang/String;").addMethodParam(arg)
        .addBasicBlock(newBasicBlock("1").assignTo(arg, call("__concat").withArgs(arg, constant("\"\"")), new LocationInFile(FILE_KEY, 1,43,1,50))
            .ret(arg, new LocationInFile(FILE_KEY, 1,36,1,51)))
        .build();
    assertCodeToUCfg("class A {String method(String arg) {return arg+=42;}}", expectedUCFG);
  }

