  private void validateFlowMessages(List<AnalyzerMessage> actual, String flowId, SortedSet<Expectations.FlowComment> expected) {
    List<String> actualMessages = actual.stream().map(AnalyzerMessage::getMessage).collect(Collectors.toList());
    List<String> expectedMessages = expected.stream().map(Expectations.FlowComment::message).collect(Collectors.toList());

    replaceExpectedNullWithActual(actualMessages, expectedMessages);

    assertThat(actualMessages).as("Wrong messages in flow " + flowId + " [" + expectations.flowToLines(flowId) + "]").isEqualTo(expectedMessages);
  }

