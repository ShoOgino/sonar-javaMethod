  private Map<ImmutableList<Integer>, String> computeFlowLines() {
    return flows.asMap().entrySet().stream()
      .collect(Collectors.toMap(e -> flowToLines(e.getValue(), i -> i.line), Map.Entry::getKey));
  }

