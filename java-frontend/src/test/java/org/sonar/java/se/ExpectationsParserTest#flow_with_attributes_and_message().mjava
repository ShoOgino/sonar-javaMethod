  @Test
  public void flow_with_attributes_and_message() throws Exception {
    Set<Expectations.FlowComment> flows = Expectations.Parser.parseFlows("// flow@npe1 [[sc=1;ec=6]] {{message}}", LINE);
    assertThat(flows).hasSize(1);
    Expectations.FlowComment flow = flows.iterator().next();
    assertThat(flow.id).isEqualTo("npe1");
    assertThat(flow.line).isEqualTo(LINE);
    assertThat(flow.attributes.get(START_COLUMN)).isEqualTo(1);
    assertThat(flow.attributes.get(END_COLUMN)).isEqualTo(6);
    assertThat(flow.attributes.get(MESSAGE)).isEqualTo("message");
  }

