  @Test
  public void test_equals() {
    MethodBehavior methodBehavior = mockMethodBehavior();

    ExceptionalYield yield = new ExceptionalYield(methodBehavior);
    ExceptionalYield otherYield = new ExceptionalYield(methodBehavior);

    assertThat(yield).isNotEqualTo(null);
    assertThat(yield).isEqualTo(yield);
    assertThat(yield).isEqualTo(otherYield);

    Type exceptionType = Mockito.mock(Type.class);
    otherYield.setExceptionType(exceptionType);
    assertThat(yield).isNotEqualTo(otherYield);

    yield.setExceptionType(exceptionType);
    assertThat(yield).isEqualTo(otherYield);
    assertThat(yield.exceptionType()).isEqualTo(otherYield.exceptionType());

    // same arity and parameters but happy yield
    assertThat(yield).isNotEqualTo(new HappyPathYield(methodBehavior));
  }

