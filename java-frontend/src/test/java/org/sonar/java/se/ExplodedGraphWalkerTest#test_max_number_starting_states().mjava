  @Test
  public void test_max_number_starting_states() throws Exception {
    JavaCheckVerifier.verifyNoIssue("src/test/files/se/MaxStartingStates.java",
      new SymbolicExecutionVisitor(Collections.emptyList(), new BehaviorCache(new SquidClassLoader(new ArrayList<>()))) {
        @Override
        public void visitNode(Tree tree) {
          try {
            MethodTree methodTree = (MethodTree) tree;
            new ExplodedGraphWalker(this.behaviorCache, (Sema) context.getSemanticModel()).visitMethod(methodTree, methodBehaviorForSymbol(methodTree.symbol()));
            fail("Too many starting states were generated!!");
          } catch (ExplodedGraphWalker.MaximumStartingStatesException exception) {
            assertThat(exception.getMessage()).startsWith("reached maximum number of 1024 starting states for method");
          }
        }
      });
  }

