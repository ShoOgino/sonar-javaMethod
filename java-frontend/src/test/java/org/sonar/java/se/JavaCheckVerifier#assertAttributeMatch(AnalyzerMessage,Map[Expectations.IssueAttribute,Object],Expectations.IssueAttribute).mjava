  private static void assertAttributeMatch(AnalyzerMessage issue, Map<Expectations.IssueAttribute, Object> attributes, Expectations.IssueAttribute attribute) {
    if (attributes.containsKey(attribute)) {
      assertThat(issue.getMessage())
        .as("line " + issue.getLine() + " attribute mismatch for " + attribute + ": " + attributes)
        .isEqualTo(attribute.getter.apply(attributes.get(attribute)));
    }
  }

