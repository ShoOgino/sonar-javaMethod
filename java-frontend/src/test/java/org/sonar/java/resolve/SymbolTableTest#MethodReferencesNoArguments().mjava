  @Test
  public void MethodReferencesNoArguments() throws Exception {
    Result result = Result.createFor("MethodReferencesNoArguments");

    JavaSymbol isTrue = result.symbol("isTrue");
    assertThat(isTrue.usages()).hasSize(1);

    JavaSymbol isFalse = result.symbol("isFalse");
    assertThat(isFalse.usages()).hasSize(1);

    JavaSymbol up = result.symbol("up");
    assertThat(up.usages()).hasSize(1);

    Tree upMethodRef = up.usages().get(0).parent();
    MethodInvocationTree map = (MethodInvocationTree) upMethodRef.parent().parent();

    JavaType mapType = (JavaType) map.symbolType();
    assertThat(mapType.is("java.util.stream.Stream")).isTrue();
    assertThat(mapType.isParameterized()).isTrue();
    List<JavaType> substitutedTypes = ((ParametrizedTypeJavaType) mapType).typeSubstitution.substitutedTypes();
    assertThat(substitutedTypes).hasSize(1);
    assertThat(substitutedTypes.get(0).is("A$B")).isTrue();

    JavaSymbol bool = result.symbol("bool", 28);
    assertThat(bool.usages().stream().map(id -> id.identifierToken().line()).collect(Collectors.toList())).containsExactly(11, 12, 13);

    bool = result.symbol("bool", 29);
    assertThat(bool.usages().stream().map(id -> id.identifierToken().line()).collect(Collectors.toList())).containsExactly(14, 15);
  }

