  @Test
  public void test_array_of_generics() throws Exception {
    List<Type> elementTypes = declaredTypes(
      "class Test<T> {"
        + "  void foo(T[][]... ts) {}"
        + "  void bar(Class<?>... ts) {}"
        + "  void test(Class type) {"
        + "    new Test<A>().foo(new A[12][14]);"
        +"     bar(new Class[]{Class.class});"
        + "  }"
        + "}" +
        "class A{}");

    JavaType type = (JavaType) elementTypes.get(0);
    JavaSymbol.MethodJavaSymbol methodSymbol = getMethodSymbol(type, "foo");
    assertThat(methodSymbol.usages()).hasSize(1);
    methodSymbol = getMethodSymbol(type, "bar");
    assertThat(methodSymbol.usages()).hasSize(1);
  }

