  @Test
  public void selector() {
    // method call
    assertThat(typeOf("this.method()").isTagged(JavaType.INT)).isTrue();
    assertThat(typeOf("this.argMethod(12)").isTagged(JavaType.INT)).isTrue();
    assertThat(typeOf("var[42].clone()")).isEqualTo(new ArrayJavaType(symbols.intType, symbols.arrayClass));
    assertThat(typeOf("var[42].toString()")).isEqualTo(symbols.stringType);

    // field access
    assertThat(typeOfExpression("this.var")).isSameAs(variableSymbol.type);
    assertThat(typeOfExpression("var[42].length")).isSameAs(symbols.intType);

    // array access
    assertThat(typeOfExpression("var[42][42]")).isSameAs(((ArrayJavaType) ((ArrayJavaType) variableSymbol.type).elementType).elementType);
  }

