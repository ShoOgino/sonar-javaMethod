  @Test
  public void MethodReference() throws Exception {
    Result result = Result.createFor("MethodReferences");
    JavaSymbol methodReference = result.symbol("methodReference");
    assertThat(methodReference.usages()).hasSize(3);

    JavaSymbol bar = result.symbol("bar");
    assertThat(bar.usages()).hasSize(3);
    JavaSymbol qix = result.symbol("qix");
    assertThat(result.reference(11, 27)).isSameAs(bar);
    assertThat(result.reference(12, 30)).isSameAs(bar);
    assertThat(result.reference(13, 24)).isSameAs(qix);
    assertThat(result.reference(14, 17)).isSameAs(bar);
    assertThat(result.reference(11, 21).owner).isSameAs(result.symbol("A"));
    assertThat(result.reference(11, 21).getName()).isEqualTo("this");
    assertThat(result.reference(12, 25).owner).isSameAs(result.symbol("A"));
    assertThat(result.reference(13, 21)).isSameAs(result.symbol("A"));

    JavaSymbol methodRefConstructor = result.symbol("methodRefConstructor");
    assertThat(methodRefConstructor.usages()).hasSize(1);
    assertThat(methodRefConstructor.isMethodSymbol()).isTrue();
    assertThat(((Symbol.MethodSymbol) methodRefConstructor).parameterTypes().get(0)).isSameAs(result.symbol("AProducer").type);

  }

