  @Test
  public void conditional_operator_expression_type() {
    Result res = Result.createFor("ConditionalOperator");
    ExpressionTree conditional = ((ReturnStatementTree) ((MethodTree) res.symbol("fun").declaration()).block().body().get(0)).expression();
    Type conditionalExpressionType = conditional.symbolType();
    assertThat(conditionalExpressionType.is("App$Foo")).isTrue();
    assertThat(((JavaType) conditionalExpressionType).isParameterized()).isTrue();
    List<JavaType> substitutedTypes = ((ParametrizedTypeJavaType) conditionalExpressionType).typeSubstitution.substitutedTypes();
    assertThat(substitutedTypes).hasSize(1);
    assertThat(substitutedTypes.get(0).isTagged(JavaType.WILDCARD)).isTrue();
    assertThat(((WildCardType) substitutedTypes.get(0)).bound.is("java.util.List")).isTrue();
  }

