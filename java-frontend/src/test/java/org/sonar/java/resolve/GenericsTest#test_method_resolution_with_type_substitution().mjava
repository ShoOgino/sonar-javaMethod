  @Test
  public void test_method_resolution_with_type_substitution() {
    List<Type> elementTypes = declaredTypes(
      "class A<X> {"
        + "  void foo(A<? extends X> a) {}"

        + "  A<String> qix() { return null; }"

        + "  void bar() {"
        + "    new A<String>().foo(qix());"
        + "  }"
        + "}");

    JavaSymbol.MethodJavaSymbol foo = getMethodSymbol((JavaType) elementTypes.get(0), "foo", 0);
    assertThat(foo.usages()).hasSize(1);
  }

