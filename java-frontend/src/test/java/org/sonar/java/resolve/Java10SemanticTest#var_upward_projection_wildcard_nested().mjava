  @Test
  public void var_upward_projection_wildcard_nested() {
    VariableTree var = getLocalVariable("var a = itemsNested.bar();");
    Type type = var.symbol().type();
    assertThat(type).isEqualTo(var.type().symbolType());
    assertThat(type).is("org.foo.C");
    assertThat(((JavaType) type).isParameterized()).isTrue();

    ParametrizedTypeJavaType ptjt = (ParametrizedTypeJavaType) type;
    JavaType substitution = ptjt.substitution(ptjt.typeParameters().get(0));
    assertThat(substitution.isTagged(JavaType.WILDCARD)).isTrue();
    WildCardType wildCardType = (WildCardType) substitution;
    assertThat(wildCardType.boundType).isEqualTo(WildCardType.BoundType.EXTENDS);
    assertThat(wildCardType.bound).is("org.foo.A");
  }

