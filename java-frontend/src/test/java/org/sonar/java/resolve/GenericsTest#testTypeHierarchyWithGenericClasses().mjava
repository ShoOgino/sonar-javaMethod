  @Test
  public void testTypeHierarchyWithGenericClasses() {
    List<Type> elementTypes = declaredTypesOfVariablesFromLastClass(
      "interface Predicate<T> {}",
      "class ObjectPredicate implements Predicate<Object> {}",

      "class Test<X> {",
      "  Predicate<X> myPredicate;",
      "  ObjectPredicate objectPredicate;",
      "  Predicate<Object> oPredicate;",
      "}");
    Type xPredicateType = elementTypes.get(0);
    Type objectPredicateType = elementTypes.get(1);
    Type oPredicateType = elementTypes.get(2);

    SubtypeAssert.assertThat(objectPredicateType).isSubtypeOf(oPredicateType);
    SubtypeAssert.assertThat(oPredicateType).isNotSubtypeOf(objectPredicateType);

    SubtypeAssert.assertThat(xPredicateType).isNotSubtypeOf(objectPredicateType);
    SubtypeAssert.assertThat(objectPredicateType).isNotSubtypeOf(xPredicateType);
  }

