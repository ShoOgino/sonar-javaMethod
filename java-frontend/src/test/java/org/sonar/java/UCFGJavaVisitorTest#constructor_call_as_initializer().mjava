  @Test
  public void constructor_call_as_initializer() {
    Expression.Variable arg = UCFGBuilder.variableWithId("arg");
    Expression.Variable instance = UCFGBuilder.variableWithId("instance");
    Expression.Variable aux0 = UCFGBuilder.variableWithId("%0");
    Expression.Variable aux1 = UCFGBuilder.variableWithId("%1");

    UCFG expectedUCFG = UCFGBuilder.createUCFGForMethod("A#method(Ljava/lang/String;)Ljava/lang/Integer;").addMethodParam(arg)
      .addStartingBlock(newBasicBlock("1")
        .newObject(aux0, "java.lang.Integer", new LocationInFile(FILE_KEY, 3, 27, 3, 34))
        .assignTo(aux1, call("java.lang.Integer#<init>(Ljava/lang/String;)V").withArgs(aux0, arg), new LocationInFile(FILE_KEY, 3,23,3,39))
        .assignTo(instance, call("__id").withArgs(aux0), new LocationInFile(FILE_KEY, 3,4,3,40))
        .ret(instance, new LocationInFile(FILE_KEY, 4,4,4,20)))
      .build();
    assertCodeToUCfg("class A { \n" +
      "  Integer method(String arg) {\n" +
      "    Integer instance = new Integer(arg);\n" +
      "    return instance;\n" +
      "  }\n" +
      "}", expectedUCFG);
  }

