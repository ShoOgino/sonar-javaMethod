  @Test
  void testFindResource() throws Exception {
    File jar = new File("src/test/files/classpath/lib/oklog-1.0.1.aar");
    AarLoader loader = new AarLoader(jar);

    assertThat(loader.findResource("notfound")).isNull();

    URL url = loader.findResource("com/github/simonpercic/oklog/BuildConfig.class");
    assertThat(url).isNotNull();
    assertThat(url.toString()).startsWith("jar:");
    assertThat(url.toString()).endsWith(".jar!/com/github/simonpercic/oklog/BuildConfig.class");

    InputStream is = url.openStream();
    try {
      assertThat(IOUtils.toByteArray(is)).isNotEmpty();
    } finally {
      IOUtils.closeQuietly(is);
    }

    loader.close();

    IllegalStateException e = assertThrows(IllegalStateException.class,
      () -> loader.findResource("META-INF/MANIFEST.MF"));
    assertThat(e.getMessage()).isEqualTo("zip file closed");
  }

