  private ProgramState execute(Instruction instruction, ProgramState startingState) {
    initializeWalker();
    ProgramPoint programPoint = mock(ProgramPoint.class);
    when(programPoint.next()).thenReturn(programPoint);
    walker.programPosition = programPoint;
    walker.programState = startingState;
    walker.executeInstruction(instruction);
    if (instruction.opcode == Opcodes.INVOKESTATIC) {
      // X-PROC on static methods generate new states
      return walker.workList.getFirst().programState;
    }
    return walker.programState;
  }

