  private ProgramState execute(Instruction instruction, ProgramState startingState) {
    ProgramPoint programPoint = mock(ProgramPoint.class);
    when(programPoint.next()).thenReturn(programPoint);
    walker.programPosition = programPoint;
    walker.programState = startingState;
    walker.executeInstruction(instruction);
    ProgramState programState = walker.programState;
    if (instruction.isInvoke()) {
      // X-PROC will enqueue new nodes
       programState = walker.workList.getFirst().programState;
    }
    return programState;
  }

