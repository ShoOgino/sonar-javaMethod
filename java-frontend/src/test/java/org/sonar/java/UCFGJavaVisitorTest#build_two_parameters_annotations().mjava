  @Test
  public void build_two_parameters_annotations() {
    Expression.Variable arg0 = variableWithId("arg0");
    Expression.Variable arg1 = variableWithId("arg1");
    Expression.Variable aux0 = variableWithId("%0");
    Expression.Variable aux1 = variableWithId("%1");

    UCFG expectedUCFG = UCFGBuilder.createUCFGForMethod("A#method(Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/String;").addMethodParam(arg0).addMethodParam(arg1)
      .addBasicBlock(newBasicBlock("paramAnnotations")
        .assignTo(aux0, call("__annotate").withArgs(constant("javax.annotation.Nullable"), arg0), new LocationInFile(FILE_KEY, 3, 6, 3, 32))
        .assignTo(arg0, call("__annotation").withArgs(aux0), new LocationInFile(FILE_KEY, 3, 40, 3, 44))
        .assignTo(aux1, call("__annotate").withArgs(constant("javax.annotation.Nullable"), arg1), new LocationInFile(FILE_KEY, 4, 6, 4, 32))
        .assignTo(arg1, call("__annotation").withArgs(aux1), new LocationInFile(FILE_KEY, 4, 41, 4, 45))
        .jumpTo(UCFGBuilder.createLabel("1")))
      .addBasicBlock(
        newBasicBlock("1")
          .ret(constant("foo"), new LocationInFile(FILE_KEY, 5, 4, 5, 17)))
      .build();
    assertCodeToUCfg("class A {\n"
      + "  String method(\n"
      + "      @javax.annotation.Nullable String arg0,\n"
      + "      @javax.annotation.Nullable Integer arg1) {\n"
      + "    return \"foo\";\n"
      + "  }\n"
      + "}", expectedUCFG);
  }

