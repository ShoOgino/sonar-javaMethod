  @Test
  public void plus_assign_to_array_field() {
    Expression.FieldAccess fieldAccess = new Expression.FieldAccess(variableWithId("field"));
    Expression.Variable arg = variableWithId("arg");
    Expression.Variable aux0 = variableWithId("%0");
    Expression.Variable aux1 = variableWithId("%1");
    Expression.Variable aux2 = variableWithId("%2");
    Expression.Variable aux3 = variableWithId("%3");
    UCFG expectedUCFG = UCFGBuilder.createUCFGForMethod("A#method(Ljava/lang/String;)Ljava/lang/String;").addMethodParam(arg)
        .addBasicBlock(newBasicBlock("1")
            .assignTo(aux0, call("__id").withArgs(fieldAccess), new LocationInFile(FILE_KEY, 1,53,1,63))
            .assignTo(aux1, call("__arrayGet").withArgs(aux0), new LocationInFile(FILE_KEY, 1,53,1,66))
            .assignTo(aux2, call("__concat").withArgs(aux1, arg), new LocationInFile(FILE_KEY, 1,53,1,73))
            .assignTo(aux3, call("__arraySet").withArgs(aux0, aux2), new LocationInFile(FILE_KEY, 1,53,1,73))
            .ret(arg, new LocationInFile(FILE_KEY, 1, 75, 1, 86)))
        .build();
    assertCodeToUCfg("class A { String[] field; String method(String arg) {this.field[0] += arg; return arg;}}", expectedUCFG);
  }

