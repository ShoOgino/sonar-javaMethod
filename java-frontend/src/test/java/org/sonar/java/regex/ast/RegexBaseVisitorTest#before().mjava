  @Test
  void before() {
    class Visitor extends RegexBaseVisitor {
      boolean visitedBefore = false;
      boolean visitedSequence = false;

      @Override
      protected void before(RegexParseResult regexParseResult) {
        visitedBefore = true;
        assertThat(visitedSequence).isFalse();
        super.before(regexParseResult);
      }

      @Override
      public void visitSequence(SequenceTree tree) {
        visitedSequence = true;
        assertThat(visitedBefore).isTrue();
        super.visitSequence(tree);
      }
    }

    Visitor visitor = new Visitor();
    visitor.visit(RegexParserTestUtils.assertSuccessfulParseResult("abc"));
    assertThat(visitor.visitedBefore).isTrue();
    assertThat(visitor.visitedSequence).isTrue();
  }

