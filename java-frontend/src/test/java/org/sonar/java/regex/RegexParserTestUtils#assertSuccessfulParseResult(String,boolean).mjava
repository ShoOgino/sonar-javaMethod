  public static RegexParseResult assertSuccessfulParseResult(String regex, boolean freeSpacingMode) {
    RegexParseResult result = parseRegex(regex, freeSpacingMode);
    if (!result.getSyntaxErrors().isEmpty()) {
      throw new AssertionFailedError("Parsing should complete with no errors.", "no errors", result.getSyntaxErrors());
    }
    assertSame(result.getResult(), result.getStartState().continuation());
    assertSingleEdge(result.getStartState(), result.getResult(), result.getResult().incomingTransitionType());
    assertSame(result.getFinalState(), result.getResult().continuation());
    assertEquals(AutomatonState.TransitionType.EPSILON, result.getFinalState().incomingTransitionType());
    assertEquals(AutomatonState.TransitionType.EPSILON, result.getStartState().incomingTransitionType());
    assertListSize(0, result.getFinalState().successors());
    assertNull(result.getFinalState().continuation());
    return result;
  }

