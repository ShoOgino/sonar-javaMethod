    @Test
    void visitingRegexWithVariousFeatures() {
      LeafCollector visitor = new LeafCollector();
      visitor.visit(RegexParserTestUtils.assertSuccessfulParseResult(
        "^[ab&&[^c]]+|(?<x>d)[e-f].\\\\1\\\\k<x>\\\\w\\\\x0A$")
      );
      assertThat(visitor.visitedCharacters()).isEqualTo(
        "<boundary:^>abcd<range:e-f><dot><backref:1><backref:x><char-class-escape:\\\\w><u a><boundary:$>"
      );
    }

