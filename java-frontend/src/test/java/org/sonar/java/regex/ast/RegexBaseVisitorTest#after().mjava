  @Test
  void after() {
    class Visitor extends RegexBaseVisitor {
      boolean visitedAfter = false;
      boolean visitedSequence = false;

      @Override
      public void visitSequence(SequenceTree tree) {
        visitedSequence = true;
        assertThat(visitedAfter).isFalse();
        super.visitSequence(tree);
      }

      @Override
      protected void after(RegexParseResult regexParseResult) {
        visitedAfter = true;
        assertThat(visitedSequence).isTrue();
        super.before(regexParseResult);
      }
    }

    Visitor visitor = new Visitor();
    visitor.visit(RegexParserTestUtils.assertSuccessfulParseResult("abc"));
    assertThat(visitor.visitedAfter).isTrue();
    assertThat(visitor.visitedSequence).isTrue();
  }

