  private void appendStates(Collection<AutomatonState> all, AutomatonState state) {
    if (all.add(state)) {
      state.successors().forEach(successor -> appendStates(all, successor));
    }
  }

