  private static void assertBoundary(String regex, BoundaryTree.Type expectedType) {
    RegexTree tree = assertSuccessfulParse(regex);
    assertThat(tree).isInstanceOf(BoundaryTree.class);
    assertKind(RegexTree.Kind.BOUNDARY, tree);

    BoundaryTree boundaryTree = (BoundaryTree) tree;
    assertThat(boundaryTree.type()).isEqualTo(expectedType);
    assertThat(boundaryTree.incomingTransitionType()).isEqualTo(AutomatonState.TransitionType.EPSILON);
  }

