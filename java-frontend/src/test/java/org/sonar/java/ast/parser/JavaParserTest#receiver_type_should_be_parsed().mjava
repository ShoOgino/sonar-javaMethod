  @Test
  public void receiver_type_should_be_parsed() throws Exception {
    try {
      String code = "class Main { class Inner { Inner(Main Main.this) {}};}";
      CompilationUnitTree cut = (CompilationUnitTree) JavaParser.createParser().parse(code);
      Tree constructor = ((ClassTree) ((ClassTree) cut.types().get(0)).members().get(0)).members().get(0);
      assertThat(constructor).isInstanceOf(MethodTree.class);
      assertThat(((MethodTree) constructor).parameters().get(0).simpleName().name()).isEqualTo("this");
    } catch (Exception ex) {
      fail("Receiver type of inner classes should be parsed correctly", ex);
    }

  }

