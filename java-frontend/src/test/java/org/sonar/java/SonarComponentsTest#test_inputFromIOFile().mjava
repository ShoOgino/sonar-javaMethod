  @Test
  public void test_inputFromIOFile() {
    SensorContextTester context = SensorContextTester.create(new File("."));
    DefaultFileSystem fileSystem = context.fileSystem();

    File file = new File("file.java");
    fileSystem.add(TestUtils.emptyInputFile("file.java"));

    JavaCheck expectedCheck = new CustomCheck();
    CheckRegistrar expectedRegistrar = getRegistrar(expectedCheck);


    SonarComponents sonarComponents = new SonarComponents(fileLinesContextFactory, fileSystem, null, null, checkFactory, new CheckRegistrar[] {
      expectedRegistrar
    });
    sonarComponents.setSensorContext(context);

    assertThat(sonarComponents.inputFromIOFile(file)).isNotNull();
    assertThat(sonarComponents.inputFromIOFileOrDirectory(file)).isNotNull();
    assertThat(sonarComponents.inputFromIOFileOrDirectory(new File("Unknown"))).isNull();
    assertThat(sonarComponents.inputFromIOFileOrDirectory(fileSystem.baseDir())).isNotNull();
    sonarComponents.setSensorContext(null);
    assertThat(sonarComponents.inputFromIOFileOrDirectory(fileSystem.baseDir())).isNull();
  }

