  @Test
  public void build_parameter_annotations() {
    Expression.Variable arg = UCFGBuilder.variableWithId("arg");
    Expression.Variable aux0 = UCFGBuilder.variableWithId("%0");
    Expression.Variable aux1 = UCFGBuilder.variableWithId("%1");
    Expression.Variable aux2 = UCFGBuilder.variableWithId("%2");

    UCFG expectedUCFG = UCFGBuilder.createUCFGForMethod("A#method(Ljava/lang/String;)Ljava/lang/String;").addMethodParam(arg)
      .addBasicBlock(newBasicBlock("paramAnnotations")
        .assignTo(aux0, call("__annotate").withArgs(constant("javax.annotation.Nullable"), arg), new LocationInFile(FILE_KEY, 3, 6, 3, 32))
        .assignTo(aux1, call("__annotate").withArgs(constant("org.springframework.web.bind.annotation.RequestParam"), arg), new LocationInFile(FILE_KEY, 4, 6, 4, 61))
        .assignTo(aux2, call("__annotate").withArgs(constant("org.springframework.format.annotation.DateTimeFormat"), arg), new LocationInFile(FILE_KEY, 5, 6, 5, 59))
        .assignTo(arg, call("__annotation").withArgs(aux0, aux1, aux2), new LocationInFile(FILE_KEY, 6, 13, 6, 16))
        .jumpTo(UCFGBuilder.createLabel("1")))
      .addBasicBlock(
        newBasicBlock("1")
          .ret(constant("foo"), new LocationInFile(FILE_KEY, 7, 4, 7, 17)))
      .build();
    assertCodeToUCfg(
      "class A {\n"
        + "  String method(\n"
        + "      @javax.annotation.Nullable\n"
        + "      @org.springframework.web.bind.annotation.RequestParam()\n"
        + "      @org.springframework.format.annotation.DateTimeFormat\n"
        + "      String arg) {\n"
        + "    return \"foo\";\n"
        + "  }\n"
        + "}",
      expectedUCFG);
  }

