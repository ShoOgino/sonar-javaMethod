  private static int argumentCount(Tree tree) {
    if (tree.is(Tree.Kind.METHOD_INVOCATION)) {
      return ((MethodInvocationTree) tree).arguments().size();
    }
    if (tree.is(Tree.Kind.NEW_CLASS)) {
      return ((NewClassTree) tree).arguments().size();
    }
    throw new IllegalArgumentException("Expecting NEW_CLASS or METHOD_INVOCATION. Got " + tree);
  }

