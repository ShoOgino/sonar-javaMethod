  private boolean equalsRelation(BinaryRelation other) {
    if (!kind.equals(other.kind)) {
      return false;
    }
    switch (kind) {
      case EQUAL:
      case NOT_EQUAL:
      case METHOD_EQUALS:
      case NOT_METHOD_EQUALS:
        return hasSameOperandsAs(other);
      default:
        return leftOp.equals(other.leftOp) && rightOp.equals(other.rightOp);
    }
  }

