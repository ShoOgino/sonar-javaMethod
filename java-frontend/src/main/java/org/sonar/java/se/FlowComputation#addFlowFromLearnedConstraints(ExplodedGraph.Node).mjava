  private Stream<Constraint> addFlowFromLearnedConstraints(ExplodedGraph.Node currentNode) {
    ExplodedGraph.Node parent = currentNode.parent();
    if (parent == null) {
      return Stream.empty();
    }
    return currentNode.learnedConstraints()
      .filter(lc -> lc.symbolicValue().equals(symbolicValue))
      .filter(this::learnedConstraintForDomains)
      .map(LearnedConstraint::constraint)
      .peek(lc -> learnedConstraintFlow(lc, currentNode, parent).forEach(flow::add));
  }

