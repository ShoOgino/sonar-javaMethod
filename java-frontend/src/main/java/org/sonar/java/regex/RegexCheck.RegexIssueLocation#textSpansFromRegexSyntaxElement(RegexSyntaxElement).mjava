    private static List<AnalyzerMessage.TextSpan> textSpansFromRegexSyntaxElement(RegexSyntaxElement tree) {
      return tree.getLocations().stream()
        .map(location -> {
          AnalyzerMessage.TextSpan result = AnalyzerMessage.textSpanFor(location.getJavaTree());
          return new AnalyzerMessage.TextSpan(
            result.startLine,
            // Adding 1 to handle beginning of the String with quote
            result.startCharacter + location.getBeginningOffset() + 1,
            result.endLine,
            // Adding 1 to handle beginning of the String with quote
            result.startCharacter + location.getEndingOffset() + 1 + (location.isEmpty() ? 1 : 0));
        }).collect(Collectors.toList());
    }

