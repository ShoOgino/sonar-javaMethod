  public final boolean hasNext() {
    Preconditions.checkState(this.state != State.FAILED);
    switch(this.state) {
      case DONE:
        return false;
      case READY:
        return true;
      default:
        return this.tryToComputeNext();
    }
  }

