  public static <T> T getOnlyElement(Set<T> set) {
    if (set.size() == 1) {
      return set.iterator().next();
    }
    throw new IllegalArgumentException(String.format("Expected set of size 1, but was set of size %d.", set.size()));
  }

