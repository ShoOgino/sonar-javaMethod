    private static ProgramState handleShift(ProgramState previousState, ProgramState currentState) {
      List<SymbolicValue> operands = previousState.peekValues(2);
      SymbolicValue result = currentState.peekValue();
      SymbolicValue op1 = operands.get(0);
      SymbolicValue op2 = operands.get(0);
      if (isZero(currentState, op1) || isZero(currentState, op2)) {
        // shifting by zero or shifting zero: Reuse fist operand
        return currentState.unstackValue(1).state.stackValue(op1);
      }
      return currentState.removeConstraintsOnDomain(result, BooleanConstraint.class).addConstraint(result, ZeroConstraint.NON_ZERO);
    }

