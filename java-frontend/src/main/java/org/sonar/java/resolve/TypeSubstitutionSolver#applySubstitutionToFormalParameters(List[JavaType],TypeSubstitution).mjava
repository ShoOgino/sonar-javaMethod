  List<JavaType> applySubstitutionToFormalParameters(List<JavaType> types, TypeSubstitution substitution) {
    if(substitution.isUnchecked()) {
      return types.stream().map(JavaType::erasure).collect(Collectors.toList());
    }
    if (substitution.size() == 0 || types.isEmpty()) {
      return types;
    }
    return types.stream().map(type -> applySubstitution(type, substitution)).collect(Collectors.toList());
  }

