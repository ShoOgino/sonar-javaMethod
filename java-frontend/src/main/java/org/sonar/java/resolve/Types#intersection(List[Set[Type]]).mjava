  private static List<Type> intersection(List<Set<Type>> supertypes) {
    if (supertypes.isEmpty()) {
      return Collections.emptyList();
    }
    List<Type> results = new LinkedList<>(supertypes.get(0));
    for (int i = 1; i < supertypes.size(); i++) {
      results.retainAll(supertypes.get(i));
    }
    return results;
  }

