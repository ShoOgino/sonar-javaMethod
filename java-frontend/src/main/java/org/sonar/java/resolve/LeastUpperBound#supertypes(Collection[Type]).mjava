  private List<Set<Type>> supertypes(Collection<Type> types) {
    return types.stream()
      .map(type -> supertypes((JavaType) type).stream().collect(Collectors.toCollection(LinkedHashSet::new)))
      .collect(Collectors.toList());
  }

