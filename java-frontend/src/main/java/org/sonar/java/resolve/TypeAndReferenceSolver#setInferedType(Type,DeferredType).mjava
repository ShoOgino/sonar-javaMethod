  private void setInferedType(Type infered, DeferredType deferredType) {
    AbstractTypedTree inferedExpression = deferredType.tree();
    Type newType = infered;
    if (inferedExpression.is(Tree.Kind.NEW_CLASS)) {
      newType = resolve.resolveTypeSubstitutionWithDiamondOperator((ParametrizedTypeJavaType) ((NewClassTree) inferedExpression).identifier().symbolType(), (JavaType) infered);
    }
    inferedExpression.setInferedType(newType);
    inferedExpression.accept(this);
  }

