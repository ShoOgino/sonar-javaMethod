  private static List<Set<Type>> supertypes(Iterable<Type> types) {
    List<Set<Type>> results = new LinkedList<>();
    for (Type type : types) {
      Set<Type> supertypes = new LinkedHashSet<>();
      supertypes.add(type.erasure());
      for (Type supertype : ((JavaType) type).symbol.superTypes()) {
        // Rely on erasure as approximation for generic type
        supertypes.add(supertype.erasure());
      }
      results.add(supertypes);
    }
    return results;
}

