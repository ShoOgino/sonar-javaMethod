  private static boolean hasAnnotation(AstNode astNode, String expected) {
    AstNode declaration = getDeclaration(astNode);
    for (AnnotationTree annotation : getModifiers(declaration).annotations()) {
      StringBuilder value = new StringBuilder();
      for (Token token : ((AstNode) annotation.annotationType()).getTokens()) {
        value.append(token.getValue());
      }
      if (value.toString().equals(expected)) {
        return true;
      }
    }
    return false;
  }

