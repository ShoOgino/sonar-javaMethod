  @Nullable
  private static Method lookup(Class<?> visitorClass, String methodName, Class<?> nodeClass) {
    try {
      return visitorClass.getMethod(methodName, nodeClass);
    } catch (NoSuchMethodException e) {
      for (Class base : nodeClass.getInterfaces()) {
        return lookup(visitorClass, methodName, base);
      }
      return null;
    }
  }

