  public TreeVisitorsDispatcher(List<? extends TreeVisitor> visitors) {
    this.visitors = visitors;
    ImmutableSet.Builder<Class> visitorClassesBuilder = ImmutableSet.builder();
    for (Object visitor : visitors) {
      visitorClassesBuilder.add(visitor.getClass());
    }
    this.visitorClasses = visitorClassesBuilder.build();
  }

