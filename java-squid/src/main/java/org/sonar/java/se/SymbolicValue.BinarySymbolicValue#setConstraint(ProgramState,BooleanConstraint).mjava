    @Override
    public ProgramState setConstraint(ProgramState programState, BooleanConstraint booleanConstraint) {
      ProgramState result = programState;
      if (leftOp.equals(rightOp)) {
        return shouldNotInverse().equals(booleanConstraint) ? programState : null;
      }
      result = copyConstraint(leftOp, rightOp, result, booleanConstraint);
      if (result == null) {
        return null;
      }
      result = copyConstraint(rightOp, leftOp, result, booleanConstraint);
      if(result == programState) {
        Map<SymbolicValue, Object> temp = Maps.newHashMap(programState.constraints);
        temp.put(this, booleanConstraint);
        return new ProgramState(programState.values, temp, programState.visitedPoints, programState.stack);
      }
      return result;

    }

