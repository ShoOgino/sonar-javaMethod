  @Override
  public void checkPreStatement(CheckerContext context, Tree syntaxNode) {
    ProgramState programState = setNullConstraint(context, syntaxNode);
    SymbolicValue val = null;
    ExpressionTree expressionTree = null;
    String name = "";
    if (syntaxNode.is(Tree.Kind.MEMBER_SELECT)) {
      expressionTree = ((MemberSelectExpressionTree) syntaxNode).expression();
    } else if (syntaxNode.is(Tree.Kind.SWITCH_STATEMENT)) {
      expressionTree = ((SwitchStatementTree) syntaxNode).expression();
    }
    if (expressionTree != null) {
      val = context.getVal(expressionTree);
      if (expressionTree.is(Tree.Kind.IDENTIFIER)) {
        name = ((IdentifierTree) expressionTree).name();
      } else if (expressionTree.is(Tree.Kind.METHOD_INVOCATION)) {
        name = ((MethodInvocationTree) expressionTree).symbol().name();
      }
    }
    if (val != null) {
      if (context.isNull(val)) {
        context.reportIssue(syntaxNode, this, "NullPointerException might be thrown as '" + name + "' is nullable here");
        context.createSink();
        return;
      } else {
        // we dereferenced the symbolic value so we can assume it is not null
        programState = context.setConstraint(val, ConstraintManager.NullConstraint.NOT_NULL);
      }
    }
    context.addTransition(programState);
  }

