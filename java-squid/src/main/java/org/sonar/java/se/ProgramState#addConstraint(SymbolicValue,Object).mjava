  public ProgramState addConstraint(SymbolicValue symbolicValue, Object constraint) {
    PMap<SymbolicValue, Object> newConstraints = constraints.put(symbolicValue, constraint);
    if (newConstraints != constraints) {
      return new ProgramState(this, newConstraints);
    }
    return this;
  }

