  public boolean hasState(Object aState) {
    if (aState == null) {
      return state == null;
    }
    return aState.equals(state);
  }

