  private Type resolveTypeSubstitution(Type type, Type definition) {
    if(definition instanceof Type.ParametrizedTypeType) {
      Type substitution = ((Type.ParametrizedTypeType) definition).typeSubstitution.get(type);
      if(substitution != null) {
        return substitution;
      }
    }
    return type;
  }

