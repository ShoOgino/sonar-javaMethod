  public static SemanticModel createFor(AstNode astNode) {
    SemanticModel semanticModel = new SemanticModel();
    Resolve resolve = new Resolve();
    visit(astNode, new FirstPass(semanticModel, resolve));
    visit(astNode, new ThirdPass(semanticModel, resolve), new LabelsVisitor(semanticModel));
    return semanticModel;
  }

