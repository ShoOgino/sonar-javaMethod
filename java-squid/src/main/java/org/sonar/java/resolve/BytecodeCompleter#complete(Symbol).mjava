  @Override
  public void complete(Symbol symbol) {
    LOG.debug("Completing symbol : " + symbol.name);
    String bytecodeName = formFullName(symbol.name, symbol.owner);
    InputStream inputStream = null;
    try {
      inputStream = inputStreamFor(bytecodeName);
      ClassReader classReader = new ClassReader(inputStream);
      Symbol.TypeSymbol classSymbol = getClassSymbol(bytecodeName);
      Preconditions.checkState(classSymbol == symbol);
      classReader.accept(new BytecodeVisitor((Symbol.TypeSymbol) symbol), 0);
    } catch (Exception e) {
      ((Type.ClassType) symbol.type).interfaces = Lists.newArrayList();
      LOG.error("Cannot complete type : " + bytecodeName + "  " + e.getMessage(), e);
    } finally {
      Closeables.closeQuietly(inputStream);
    }
  }

