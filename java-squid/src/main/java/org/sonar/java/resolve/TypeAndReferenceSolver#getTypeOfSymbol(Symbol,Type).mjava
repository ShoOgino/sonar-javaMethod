  private Type getTypeOfSymbol(Symbol symbol, Type callSite) {
    //FIXME get rid of this method. All substitutions should happen in Resolve class
    Type result = getTypeOfSymbol(symbol);
    if(callSite instanceof Type.ParametrizedTypeType) {
      Type substitution = ((Type.ParametrizedTypeType) callSite).typeSubstitution.get(result);
      if(substitution != null) {
        result = substitution;
      }
    }
    return result;
  }

