  private Type getTypeOfSymbol(Symbol symbol, Type callSite) {
    Type result = getTypeOfSymbol(symbol);
    if(callSite instanceof Type.InstantiatedParametrizedType) {
      Type substitution = ((Type.InstantiatedParametrizedType) callSite).typeSubstitution.get(result);
      if(substitution != null) {
        result = substitution;
      }
    }
    return result;
  }

