    @Override
    public void visitIdentifier(IdentifierTree tree) {
      if (currentSymbol.kind == Symbol.PCK) {
        currentSymbol = resolve.findIdentInPackage(env, currentSymbol, tree.name(), Symbol.PCK | Symbol.TYP);
      } else if (currentSymbol.kind == Symbol.TYP) {
        //current symbol is a type. Find Variable or InnerClass :
        Symbol resolvedId = resolve.findIdentInType(env, (Symbol.TypeSymbol) currentSymbol, tree.name(), Symbol.TYP | Symbol.VAR);
        if (resolvedId.kind >= Symbol.ERRONEOUS) {
          //TODO what to do with arguments in this specific case.
          resolvedId = resolve.findMethod(env, (Symbol.TypeSymbol) currentSymbol, tree.name(), Lists.<Type>newArrayList());
        }
        currentSymbol = resolvedId;
      } else {
        //Site symbol is not found so we won't be able to resolve the import.
      }
    }

