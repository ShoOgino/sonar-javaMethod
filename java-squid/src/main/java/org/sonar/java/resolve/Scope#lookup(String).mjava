  public List<Symbol> lookup(String name) {
    List<Symbol> result = symbols.get(name);
    Scope scope = this;
    while (result.isEmpty() && scope.next != null) {
      result = scope.next.lookup(name);
      scope = scope.next;
    }
    return result;
  }

