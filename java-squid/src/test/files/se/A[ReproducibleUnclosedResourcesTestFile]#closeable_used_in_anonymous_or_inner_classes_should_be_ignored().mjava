  // Foreign 465 & 467
  InputStream closeable_used_in_anonymous_or_inner_classes_should_be_ignored() throws Exception {
    final InputStream is = new FileInputStream(""); // Compliant - Closeable is used in returned anonymous class (simplification: "final"
                                                    // closeable are ignored)
    final OutputStream os = new FileOutputStream(""); // Compliant - Closeable is used in inner class (simplification: "final" closeable are
                                                      // ignored)

    class MyClass {
      void doSomething() throws IOException {
        os.read();
        os.close();
      }
    }

    new MyClass().doSomething();

    return new InputStream() {

      @Override
      public void close() throws IOException {
        is.close();
        super.close();
      }

      @Override
      public int read() throws IOException {
        is.close();
        return 0;
      }
    };
  }

