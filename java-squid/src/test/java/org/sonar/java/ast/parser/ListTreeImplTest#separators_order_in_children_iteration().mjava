  @Test
  public void separators_order_in_children_iteration() throws Exception {

    Tree tree1 = new EmptyStatementTreeImpl(null);
    Tree tree2 = new EmptyStatementTreeImpl(null);
    Tree tree3 = new EmptyStatementTreeImpl(null);
    List<Tree> trees = Lists.newArrayList(tree1, tree2, tree3);
    SyntaxToken token1 = createToken("token1");
    SyntaxToken token2 = createToken("token2");
    List<SyntaxToken> separators = Lists.newArrayList(token1, token2);
    ListTreeImpl<Tree> listTree = new MyList(trees, separators);
    Iterator<Tree> childrenIterator = listTree.childrenIterator();
    List result = Lists.newArrayList();
    while (childrenIterator.hasNext()) {
      result.add(childrenIterator.next());
    }
    Assertions.assertThat(result).containsExactly(tree1, token1, tree2, token2, tree3);
  }

