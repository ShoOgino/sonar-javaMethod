  @Test
  public void should_update_nodes_with_a_child() {
    Token token = mock(Token.class);
    when(token.getType()).thenReturn(TOKEN_TYPE);

    AstNode astNode1 = new AstNode(token);
    astNode1.setFromIndex(1);
    astNode1.setToIndex(2);

    AstNode astNode = new AstNode(ASTNODE_TYPE, ASTNODE_TYPE.toString(), null);
    astNode.addChild(astNode1);

    new AstNodeSanitizer().sanitize(astNode);

    assertThat(astNode.getToken()).isSameAs(token);
    assertThat(astNode.getFromIndex()).isEqualTo(1);
    assertThat(astNode.getToIndex()).isEqualTo(2);
  }

