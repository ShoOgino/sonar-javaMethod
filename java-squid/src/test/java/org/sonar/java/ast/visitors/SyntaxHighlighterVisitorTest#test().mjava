  @Test
  public void test() {
    ResourcePerspectives resourcePerspectives = Mockito.mock(ResourcePerspectives.class);
    Highlightable highlightable = Mockito.mock(Highlightable.class);
    Mockito.when(resourcePerspectives.as(Mockito.eq(Highlightable.class), Mockito.any(JavaFile.class))).thenReturn(highlightable);
    SyntaxHighlighterVisitor syntaxHighlighterVisitor = new SyntaxHighlighterVisitor(resourcePerspectives, Charsets.UTF_8);
    JavaAstScanner.scanSingleFile(new File("src/test/files/metrics/Lines.java"), syntaxHighlighterVisitor);
    Mockito.verify(highlightable).highlightText(0, 16, HighlightableTextType.BLOCK_COMMENT);
    Mockito.verify(highlightable).highlightText(18, 25, HighlightableTextType.KEYWORD);
    Mockito.verify(highlightable).highlightText(25, 31, HighlightableTextType.KEYWORD);
    Mockito.verifyNoMoreInteractions(highlightable);
  }

