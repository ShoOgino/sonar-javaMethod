  @Test
  public void annotationOnSymbols() throws Exception {
    Symbol.TypeSymbol classSymbol = bytecodeCompleter.getClassSymbol("org.sonar.java.resolve.targets.AnnotationSymbolMethod");
    assertThat(classSymbol.isPublic()).isTrue();
    SymbolMetadata metadata = classSymbol.metadata();
    assertThat(metadata.annotations()).hasSize(3);
    assertThat(metadata.getValuesFor("org.sonar.java.resolve.targets.Dummy")).isNull();
    assertThat(metadata.getValuesFor("org.sonar.java.resolve.targets.ClassAnnotation")).isEmpty();
    assertThat(metadata.getValuesFor("org.sonar.java.resolve.targets.RuntimeAnnotation1")).hasSize(1);
    assertThat(metadata.getValuesFor("org.sonar.java.resolve.targets.RuntimeAnnotation1").iterator().next().value()).isEqualTo("plopfoo");

    assertThat(metadata.getValuesFor("org.sonar.java.resolve.targets.RuntimeAnnotation2")).hasSize(2);
    Iterator<AnnotationValue> iterator = metadata.getValuesFor("org.sonar.java.resolve.targets.RuntimeAnnotation2").iterator();
    Object value = iterator.next().value();
    assertValue(value);
    value = iterator.next().value();
    assertValue(value);

  }

