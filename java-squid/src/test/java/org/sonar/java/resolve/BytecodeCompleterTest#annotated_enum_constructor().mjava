  @Test
  public void annotated_enum_constructor() {
    //Test to handle difference between signature and descriptor for enum:
    //see : https://bugs.openjdk.java.net/browse/JDK-8071444 and https://bugs.openjdk.java.net/browse/JDK-8024694
    Symbol.TypeSymbol clazz = bytecodeCompleter.getClassSymbol("org.sonar.java.resolve.targets.AnnotatedEnumConstructor");
    JavaSymbol.MethodJavaSymbol constructor = (JavaSymbol.MethodJavaSymbol) clazz.lookupSymbols("<init>").iterator().next();
    assertThat(constructor.getParameters().scopeSymbols()).hasSize(1);
    for (JavaSymbol arg : constructor.getParameters().scopeSymbols()) {
      assertThat(arg.metadata().annotations()).hasSize(1);
      assertThat(arg.metadata().annotations().get(0).symbol().type().is("javax.annotation.Nullable"));
    }
  }

