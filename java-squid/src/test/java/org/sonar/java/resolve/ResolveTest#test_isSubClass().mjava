  @Test
  public void test_isSubClass() {
    Symbol.TypeSymbol base = new Symbol.TypeSymbol(0, "class", null);

    // same class
    Symbol.TypeSymbol c = base;
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // base not extended by class
    c = new Symbol.TypeSymbol(0, "class", null);

    // class extends base
    assertThat(resolve.isSubClass(c, base)).isFalse();
    ((Type.ClassType) c.type).supertype = base.type;
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // class extends superclass
    ((Type.ClassType) c.type).supertype = new Symbol.TypeSymbol(0, "superclass", null).type;
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class extends superclass, which extends base
    ((Type.ClassType) ((Type.ClassType) c.type).supertype).supertype = base.type;
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // base - is an interface
    base = new Symbol.TypeSymbol(Flags.INTERFACE, "class", null);
    c = new Symbol.TypeSymbol(0, "class", null);

    // base not implemented by class
    ((Type.ClassType) c.type).interfaces = ImmutableList.of();
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class implements base interface
    ((Type.ClassType) c.type).interfaces = ImmutableList.of(base.type);
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // class implements interface, but not base interface
    Symbol.TypeSymbol i = new Symbol.TypeSymbol(Flags.INTERFACE, "class", null);
    ((Type.ClassType) i.type).interfaces = ImmutableList.of();
    ((Type.ClassType) c.type).interfaces = ImmutableList.of(i.type);
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class implements interface, which implements base
    ((Type.ClassType) c.type).interfaces = ImmutableList.of(base.type);
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // class extends superclass
    ((Type.ClassType) c.type).interfaces = ImmutableList.of();
    ((Type.ClassType) c.type).supertype = new Symbol.TypeSymbol(0, "superclass", null).type;
    ((Type.ClassType) ((Type.ClassType) c.type).supertype).interfaces = ImmutableList.of();
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class extends superclass, which implements base
    ((Type.ClassType) ((Type.ClassType) c.type).supertype).interfaces = ImmutableList.of(base.type);
    assertThat(resolve.isSubClass(c, base)).isTrue();
  }

