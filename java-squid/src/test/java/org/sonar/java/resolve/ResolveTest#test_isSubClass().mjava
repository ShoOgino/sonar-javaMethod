  @Test
  public void test_isSubClass() {
    JavaSymbol.TypeJavaSymbol base = new JavaSymbol.TypeJavaSymbol(0, "class", null);

    // same class
    JavaSymbol.TypeJavaSymbol c = base;
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // base not extended by class
    c = new JavaSymbol.TypeJavaSymbol(0, "class", null);

    // class extends base
    assertThat(resolve.isSubClass(c, base)).isFalse();
    ((JavaType.ClassJavaType) c.type).supertype = base.type;
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // class extends superclass
    ((JavaType.ClassJavaType) c.type).supertype = new JavaSymbol.TypeJavaSymbol(0, "superclass", null).type;
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class extends superclass, which extends base
    ((JavaType.ClassJavaType) ((JavaType.ClassJavaType) c.type).supertype).supertype = base.type;
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // base - is an interface
    base = new JavaSymbol.TypeJavaSymbol(Flags.INTERFACE, "class", null);
    c = new JavaSymbol.TypeJavaSymbol(0, "class", null);

    // base not implemented by class
    ((JavaType.ClassJavaType) c.type).interfaces = ImmutableList.of();
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class implements base interface
    ((JavaType.ClassJavaType) c.type).interfaces = ImmutableList.of(base.type);
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // class implements interface, but not base interface
    JavaSymbol.TypeJavaSymbol i = new JavaSymbol.TypeJavaSymbol(Flags.INTERFACE, "class", null);
    ((JavaType.ClassJavaType) i.type).interfaces = ImmutableList.of();
    ((JavaType.ClassJavaType) c.type).interfaces = ImmutableList.of(i.type);
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class implements interface, which implements base
    ((JavaType.ClassJavaType) c.type).interfaces = ImmutableList.of(base.type);
    assertThat(resolve.isSubClass(c, base)).isTrue();

    // class extends superclass
    ((JavaType.ClassJavaType) c.type).interfaces = ImmutableList.of();
    ((JavaType.ClassJavaType) c.type).supertype = new JavaSymbol.TypeJavaSymbol(0, "superclass", null).type;
    ((JavaType.ClassJavaType) ((JavaType.ClassJavaType) c.type).supertype).interfaces = ImmutableList.of();
    assertThat(resolve.isSubClass(c, base)).isFalse();

    // class extends superclass, which implements base
    ((JavaType.ClassJavaType) ((JavaType.ClassJavaType) c.type).supertype).interfaces = ImmutableList.of(base.type);
    assertThat(resolve.isSubClass(c, base)).isTrue();
  }

