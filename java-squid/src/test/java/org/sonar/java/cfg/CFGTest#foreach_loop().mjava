  @Test
  public void foreach_loop()  {
    final CFG cfg = buildCFG("void fun(){ System.out.println(''); for(String foo:list) {System.out.println(foo);} System.out.println(''); }");
    final CFGChecker cfgChecker = checker(
      block(
        element(Tree.Kind.CHAR_LITERAL, "''"),
        element(Tree.Kind.IDENTIFIER, "System"),
        element(Tree.Kind.MEMBER_SELECT),
        element(Tree.Kind.MEMBER_SELECT),
        element(Tree.Kind.METHOD_INVOCATION)
        ).successors(3),
      block(
        element(Tree.Kind.IDENTIFIER, "list"),
        element(Tree.Kind.VARIABLE, "foo")
        ).terminator(Tree.Kind.FOR_EACH_STATEMENT).successors(1,2),
      block(
        element(Tree.Kind.IDENTIFIER, "foo"),
        element(Tree.Kind.IDENTIFIER, "System"),
        element(Tree.Kind.MEMBER_SELECT),
        element(Tree.Kind.MEMBER_SELECT),
        element(Tree.Kind.METHOD_INVOCATION)
        ).successors(3),
      block(
        element(Tree.Kind.CHAR_LITERAL, "''"),
        element(Tree.Kind.IDENTIFIER, "System"),
        element(Tree.Kind.MEMBER_SELECT),
        element(Tree.Kind.MEMBER_SELECT),
        element(Tree.Kind.METHOD_INVOCATION)
        ).successors(0));
    cfgChecker.check(cfg);
  }

