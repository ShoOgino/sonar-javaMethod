  private static List<String> checkIssues(JavaConfiguration conf) {
    List<String> messages = Lists.newArrayList();
    JavaCheck[] javaChecks = new JavaCheck[] {
      new JavaVersionCheck(7, messages),
      new JavaVersionCheck(8, messages),
      new SimpleCheck(messages)
    };

    ArrayList<File> files = Lists.newArrayList(new File("src/test/files/JavaVersionAwareChecks.java"));

    JavaSquid squid = new JavaSquid(conf, null, null, null, javaChecks);
    squid.scan(files, Collections.<File>emptyList(), Collections.<File>emptyList());

    return messages;
  }

