  @Test
  public void old_maven_mojo_binaries_filled_but_not_libraries() throws Exception {
    settings.setProperty("sonar.binaries", "bin");
    fs.setBaseDir(new File("src/test/files/classpath/"));
    MavenProject pom = mock(MavenProject.class);
    when(pom.getCompileClasspathElements()).thenReturn(Lists.newArrayList("hello.jar"));
    Build build = mock(Build.class);
    when(build.getOutputDirectory()).thenReturn("src/test/files/classpath/bin");
    when(pom.getBuild()).thenReturn(build);
    javaClasspath = new JavaClasspath(settings, fs, pom);
    assertThat(javaClasspath.getElements()).hasSize(2);
    assertThat(javaClasspath.getElements()).onProperty("name").contains("bin", "hello.jar");
    assertThat(javaClasspath.getBinaryDirs()).hasSize(1);
  }

