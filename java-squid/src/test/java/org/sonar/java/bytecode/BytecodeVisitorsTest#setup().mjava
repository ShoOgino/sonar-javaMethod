  @BeforeClass
  public static void setup() {
    JavaConfiguration conf = new JavaConfiguration(Charset.forName("UTF-8"));
    Project project = mock(Project.class);
    ProjectFileSystem pfs = mock(ProjectFileSystem.class);
    File baseDir = new File("src/test/files/bytecode/src");
    when(project.getFileSystem()).thenReturn(pfs);
    when(pfs.getBasedir()).thenReturn(baseDir);
    DefaultJavaResourceLocator javaResourceLocator = new DefaultJavaResourceLocator(project, null);
    JavaSquid squid = new JavaSquid(conf, javaResourceLocator);
    Collection<File> files = FileUtils.listFiles(baseDir, new String[]{"java"}, true);
    List<InputFile> sourceFiles = Lists.newArrayList();
    PathResolver pathResolver = new PathResolver();
    for (File file : files) {
      sourceFiles.add(new DefaultInputFile(pathResolver.relativePath(baseDir, file)).setFile(file));
    }
    File binDir = new File("src/test/files/bytecode/bin");
    squid.scan(sourceFiles, Collections.<InputFile>emptyList(), Collections.singleton(binDir));
    graph = squid.getGraph();
    resourceMapping = javaResourceLocator.getResourceMapping();
    tag = findResource("tags/Tag.java");
    tagFile = findResource("tags/Tag.java");
    file = findResource("tags/File.java");
    line = findResource("tags/Line.java");
    tagName = findResource("tags/TagName.java");
    tagException = findResource("tags/TagException.java");
    language = findResource("tags/Language.java");
    sourceFile = findResource("tags/SourceFile.java");
    todo = findResource("tags/impl/Todo.java");
    fixme = findResource("tags/impl/FixMe.java");
    pacTag = findResource("tags");
    pacImpl = findResource("tags/impl");
  }

