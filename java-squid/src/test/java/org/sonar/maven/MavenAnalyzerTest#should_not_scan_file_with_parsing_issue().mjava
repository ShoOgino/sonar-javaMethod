  @Test
  public void should_not_scan_file_with_parsing_issue() {
    DefaultFileSystem fs = new DefaultFileSystem(new File(""));
    File pomFile = new File("src/test/files/maven/parse-issue-pom.xml");
    fs.add(new DefaultInputFile(pomFile.getAbsolutePath()).setFile(pomFile).setLanguage("xml"));
    SonarComponents sonarComponents = createSonarComponentsMock(fs, MAVEN_CHECK);

    MavenAnalyzer analyzer = new MavenAnalyzer(sonarComponents, MAVEN_CHECK);
    analyzer.scan(Lists.newArrayList(pomFile));

    verify(sonarComponents, never()).addIssue(any(File.class), any(MavenCheck.class), any(Integer.class), anyString(), isNull(Double.class));
    verify(sonarComponents, never()).reportIssue(any(AnalyzerMessage.class));
  }

