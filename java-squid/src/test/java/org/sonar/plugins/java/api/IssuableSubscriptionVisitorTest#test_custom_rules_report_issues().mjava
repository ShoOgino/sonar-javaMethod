  @Test
  public void test_custom_rules_report_issues() throws Exception {
    VisitorsBridge visitorsBridge = new VisitorsBridge(Lists.newArrayList(new CustomRule()), Lists.<File>newArrayList(), null);
    JavaAstScanner.scanSingleFile(new File("src/test/resources/IssuableSubscriptionClass.java"), visitorsBridge);
    Set<AnalyzerMessage> issues = visitorsBridge.lastCreatedTestContext().getIssues();
    assertThat(issues).hasSize(6);
  }

