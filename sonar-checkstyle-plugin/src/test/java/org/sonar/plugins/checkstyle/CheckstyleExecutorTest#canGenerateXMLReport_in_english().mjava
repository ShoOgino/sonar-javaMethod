  @Test
  public void canGenerateXMLReport_in_english() throws Exception {
    Locale initialLocale = Locale.getDefault();
    Locale.setDefault(Locale.FRENCH);

    try {
      CheckstyleConfiguration conf = mockConf();
      File report = new File("target/test-tmp/checkstyle-report.xml");
      when(conf.getTargetXMLReport()).thenReturn(report);
      CheckstyleAuditListener listener = mockListener();
      CheckstyleExecutor executor = new CheckstyleExecutor(conf, listener, getClass().getClassLoader());
      executor.execute();

      assertThat(report.exists(), is(true));

      String reportContents = FileUtils.readFileToString(report);
      assertThat(reportContents).contains("<error");
      assertThat(reportContents).contains("Empty statement.");
    } finally {
      assertThat(Locale.getDefault()).isEqualTo(Locale.FRENCH);
      Locale.setDefault(initialLocale);
    }
  }

