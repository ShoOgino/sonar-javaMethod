  @Test
  public void shouldCreateProfile() {
    ProfileDefinition sonarWay = new SonarWayProfile(new XMLProfileParser(newRuleFinder(), mock(MetricFinder.class)));
    ValidationMessages validation = ValidationMessages.create();
    RulesProfile profile = sonarWay.createProfile(validation);
    assertThat(profile.getActiveRulesByRepository(CheckstyleConstants.REPOSITORY_KEY).size())
        .isEqualTo(29);
    assertThat(validation.hasErrors()).isFalse();
  }

