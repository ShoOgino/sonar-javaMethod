  @Test
  public void details_contains_learned_associations_sorted_by_sv() {
    ExplodedGraph.Node n1 = node(1, ProgramState.EMPTY_STATE);
    ExplodedGraph.Node n2 = node(2, ProgramState.EMPTY_STATE
      .put(A_SYMBOL, SV_42)
      .put(B_SYMBOL, SV_21));

    ExplodedGraph.Edge edge = addEdge(n1, n2);
    JsonObject details = new EGDotEdge(1, 2, edge).details();

    JsonArray learnedAssociations = details.getJsonArray("learnedAssociations");
    assertThat(learnedAssociations).isNotNull();
    assertThat(learnedAssociations).hasSize(2);

    JsonObject la1 = (JsonObject) learnedAssociations.get(0);
    assertThat(la1.getString("sv")).isEqualTo("SV_21");
    assertThat(la1.getString("symbol")).isEqualTo("b");

    JsonObject la2 = (JsonObject) learnedAssociations.get(1);
    assertThat(la2.getString("sv")).isEqualTo("SV_42");
    assertThat(la2.getString("symbol")).isEqualTo("a");
  }

