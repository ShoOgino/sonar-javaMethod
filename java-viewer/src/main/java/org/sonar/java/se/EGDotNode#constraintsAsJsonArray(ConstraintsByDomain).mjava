  private static JsonArray constraintsAsJsonArray(@Nullable ConstraintsByDomain constraintsByDomain) {
    JsonArrayBuilder builder = Json.createArrayBuilder();
    if (constraintsByDomain == null || constraintsByDomain.isEmpty()) {
      builder.add("no constraint");
    } else {
      constraintsByDomain.stream().map(Constraint::toString).forEach(builder::add);
    }
    return builder.build();
  }

