    protected String dotProperties() {
      Map<String, String> properties = new HashMap<>();
      properties.put("label", label());
      properties.put("highlighting", Highlighting.name(highlighting()));
      properties.put("details", escape(details()));

      return properties.entrySet().stream()
        .filter(entry -> entry.getValue() != null)
        .map(entry -> MessageFormat.format("{0}=\"{1}\"", entry.getKey(), entry.getValue()))
        .collect(Collectors.joining(","));
    }

